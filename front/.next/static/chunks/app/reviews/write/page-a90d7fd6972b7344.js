(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[12],{63:(e,s,r)=>{"use strict";var n=r(7260);r.o(n,"useParams")&&r.d(s,{useParams:function(){return n.useParams}}),r.o(n,"useRouter")&&r.d(s,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(s,{useSearchParams:function(){return n.useSearchParams}})},3360:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>o});var n=r(5155),a=r(2115),t=r(63),l=r(7621);function o(){let e=(0,t.useRouter)(),[s,r]=(0,a.useState)({title:"",author:"",password:"",content:"",rating:5,branchId:"jinju-center"}),[o,i]=(0,a.useState)(!1),c=e=>{let{name:s,value:n}=e.target;r(e=>({...e,[s]:n}))},d=async r=>{r.preventDefault(),i(!0);try{await (0,l.G)("/api/reviews",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...s,comment:s.content})}),alert("후기가 등록되었습니다."),e.push("/reviews")}catch(e){var n,a;alert((null==(a=e.response)||null==(n=a.data)?void 0:n.error)||"후기 등록에 실패했습니다.")}finally{i(!1)}};return(0,n.jsx)("div",{className:"min-h-screen py-16 px-4",style:{background:"var(--bg-main)"},children:(0,n.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-8 text-center",children:"훈련 후기 작성"}),(0,n.jsx)("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-gray-200",children:(0,n.jsxs)("form",{onSubmit:d,className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-2",children:"제목"}),(0,n.jsx)("input",{type:"text",name:"title",required:!0,value:s.title,onChange:c,className:"w-full px-4 py-3 rounded-lg border focus:ring-2 focus:outline-none",placeholder:"후기 제목을 입력해주세요"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-2",children:"작성자"}),(0,n.jsx)("input",{type:"text",name:"author",required:!0,value:s.author,onChange:c,className:"w-full px-4 py-3 rounded-lg border focus:ring-2 focus:outline-none",placeholder:"홍길동"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-2",children:"비밀번호 (수정/삭제용)"}),(0,n.jsx)("input",{type:"password",name:"password",required:!0,value:s.password,onChange:c,className:"w-full px-4 py-3 rounded-lg border focus:ring-2 focus:outline-none",placeholder:"4자리 이상",minLength:4})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-2",children:"평점"}),(0,n.jsxs)("select",{name:"rating",value:s.rating,onChange:c,className:"w-full px-4 py-3 rounded-lg border focus:ring-2 focus:outline-none",children:[(0,n.jsx)("option",{value:"5",children:"⭐⭐⭐⭐⭐ (5점)"}),(0,n.jsx)("option",{value:"4",children:"⭐⭐⭐⭐ (4점)"}),(0,n.jsx)("option",{value:"3",children:"⭐⭐⭐ (3점)"}),(0,n.jsx)("option",{value:"2",children:"⭐⭐ (2점)"}),(0,n.jsx)("option",{value:"1",children:"⭐ (1점)"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-2",children:"내용"}),(0,n.jsx)("textarea",{name:"content",required:!0,rows:6,value:s.content,onChange:c,className:"w-full px-4 py-3 rounded-lg border focus:ring-2 focus:outline-none resize-none",placeholder:"훈련 후기를 자유롭게 작성해주세요."})]}),(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsx)("button",{type:"button",onClick:()=>e.back(),className:"w-1/3 py-4 rounded-lg font-bold border border-gray-300 hover:bg-gray-50 transition-colors",children:"취소"}),(0,n.jsx)("button",{type:"submit",disabled:o,className:"w-2/3 py-4 rounded-lg font-bold text-white transition-all hover:opacity-90 disabled:opacity-50",style:{background:"var(--color-accent)"},children:o?"등록 중...":"후기 등록하기"})]})]})})]})})}},7621:(e,s,r)=>{"use strict";async function n(e,s){let r=await fetch(e,s);if(!r.ok){let e=Error("An error occurred while fetching the data.");throw e.info=await r.json().catch(()=>({})),e.status=r.status,e}return r.json()}r.d(s,{G:()=>n})},8762:(e,s,r)=>{Promise.resolve().then(r.bind(r,3360))}},e=>{e.O(0,[441,255,358],()=>e(e.s=8762)),_N_E=e.O()}]);