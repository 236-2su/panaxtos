(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{345:(e,s,t)=>{Promise.resolve().then(t.bind(t,5782))},5782:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var a=t(5155),l=t(2115),r=t(63),n=t(5125);function i(){let e=(0,r.useRouter)(),[s,t]=(0,l.useState)([]),[i,d]=(0,l.useState)(!0),[c,o]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let s=localStorage.getItem("token");if(!s)return void e.push("/login");o(!0),h(s)},[e]);let h=async e=>{try{let s=await n.A.get("/api/reservations",{headers:{Authorization:"Bearer ".concat(e)}});t(s.data)}catch(e){console.error(e),alert("데이터를 불러오는데 실패했습니다.")}finally{d(!1)}};return c?(0,a.jsxs)("div",{className:"default-container py-10",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"관리자 대시보드"}),(0,a.jsx)("div",{className:"flex gap-4 mb-8",children:(0,a.jsx)("button",{onClick:()=>e.push("/admin/reviews/write"),className:"px-6 py-3 bg-blue-600 text-white rounded hover:bg-blue-700 font-bold",children:"+ 훈련 후기 작성하기"})}),(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"예약 현황"}),i?(0,a.jsx)("p",{children:"로딩 중..."}):(0,a.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,a.jsx)("ul",{className:"divide-y divide-gray-200",children:0===s.length?(0,a.jsx)("li",{className:"p-4 text-center text-gray-500",children:"예약 내역이 없습니다."}):s.map(e=>(0,a.jsxs)("li",{className:"p-4 hover:bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-lg font-bold",children:e.name}),(0,a.jsx)("p",{className:"text-gray-600",children:e.phone})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-blue-600 font-bold",children:new Date(e.dateTime).toLocaleString()}),(0,a.jsx)("p",{className:"text-gray-500",children:e.programId||"상담 예약"})]})]}),e.notes&&(0,a.jsx)("div",{className:"mt-2 text-gray-700 bg-gray-100 p-2 rounded",children:e.notes})]},e.id))})})]}):null}}},e=>{e.O(0,[977,441,255,358],()=>e(e.s=345)),_N_E=e.O()}]);